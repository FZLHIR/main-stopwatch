ESP\_NEW\_JPEG
==============

ESP\_NEW\_JPEG 是乐鑫轻量级的 JPEG 编解码库，对内存和 CPU 负载进行了优化，以更好地利用乐鑫芯片。

特征
--

### 编码器

*   支持多种宽度和高度的编码器
*   支持RGB888 RGBA YCbYCr YCbY2YCrY2 GRAY像素格式
*   支持YUV444 YUV422 YUV420子采样
*   支持质量(1-100)
*   支持0 90 180 270度顺时针旋转，适用以下情况
1. src\_type = JPEG\_PIXEL\_FORMAT\_YCbYCr，子采样 = JPEG\_SUBSAMPLE\_420，宽度和高度为 16 的倍数
2. src\_type = JPEG\_PIXEL\_FORMAT\_YCbYCr，子采样 = JPEG\_SUBSAMPLE\_GRAY，宽度和高度是 8 的倍数
*   支持单任务和双任务
*   支持两种模式编码器，分别为图像编码器和块编码器

### 解码器

*   支持多种宽度和高度的解码器
*   支持一、三通道解码器
*   支持RGB888 RGB565(大端)RGB565(小端)CbYCrY像素格式输出
*   支持0 90 180 270度顺时针旋转，宽度和高度均为8的倍数
*   支持裁剪和缩放，宽度和高度为 8 的倍数
*   支持两种模式解码器，分别为一个图像解码器和块解码器

表现
--

### 在 ESP32-S3 芯片上测试

#### 编码器

对于**单声道任务**编码器，消耗的内存（10 kByte DRAM）是恒定的。

<table data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><thead data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">解决</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">源像素格式</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">输出质量</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">输出子采样</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">每秒帧数(fps)</font></font></font></th></tr></thead><tbody data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">1920 * 1080</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">JPEG_像素_格式_YCbYCr</font></font></font></td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>1.59</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">1920 * 1080</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>1.33</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">1280 * 720</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">JPEG_像素_格式_YCbYCr</font></font></font></td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>4.84</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">1280 * 720</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>2.92</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">800 * 480</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">JPEG_像素_格式_YCbYCr</font></font></font></td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>10.82</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">800 * 480</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>6.74</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">640 * 480</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">JPEG_像素_格式_YCbYCr</font></font></font></td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>13.24</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">640 * 480</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>8.32</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">480 * 320</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">JPEG_像素_格式_YCbYCr</font></font></font></td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>24.35</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">480 * 320</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>15.84</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">320 * 240</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">JPEG_像素_格式_YCbYCr</font></font></font></td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>45.30</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">320 * 240</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>30.37</td></tr></tbody></table>

当启用**双任务**编码器时，图像越宽，消耗的内存越多。

<table data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><thead data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">解决</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">源像素格式</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">输出质量</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">输出子采样</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">每秒帧数(fps)</font></font></font></th></tr></thead><tbody data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">1280 * 720</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>4.62</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">800 * 480</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>10.46</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">640 * 480</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>12.89</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">480 * 320</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>23.57</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">320 * 240</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>43.97</td></tr></tbody></table>

#### 解码器

消耗的内存（10 kByte DRAM）是恒定的。

旋转 JPEG\_ROTATE\_0D 情况：

<table data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><thead data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">解决</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">源子采样</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">源质量</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">输出像素格式</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">每秒帧数(fps)</font></font></font></th></tr></thead><tbody data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">1920 * 1080</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>3.27</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">1920 * 1080</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>3.78</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">1280 * 720</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>6.77</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">1280 * 720</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>7.82</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">800 * 480</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>14.73</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">800 * 480</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>16.87</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">640 * 480</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>17.90</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">640 * 480</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>20.46</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">480 * 320</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>32.27</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">480 * 320</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>36.29</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">320 * 240</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>58.95</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">320 * 240</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>66.28</td></tr></tbody></table>

旋转 JPEG\_ROTATE\_90D 情况：

<table data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><thead data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">解决</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">源子采样</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">源质量</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">输出像素格式</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">每秒帧数(fps)</font></font></font></th></tr></thead><tbody data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">1920 * 1080</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>2.23</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">1920 * 1080</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>3.11</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">1280 * 720</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>5.02</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">1280 * 720</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>7.13</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">800 * 480</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>14.09</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">800 * 480</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>16.85</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">640 * 480</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>17.16</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">640 * 480</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>20.45</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">480 * 320</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>30.87</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">480 * 320</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>36.15</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">320 * 240</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>59.17</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">320 * 240</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>70.78</td></tr></tbody></table>

### 在 ESP32-S2 芯片上测试

#### 编码器

仅支持单声道任务。消耗的内存（10 kByte DRAM）是恒定的。

<table data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><thead data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">解决</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">源像素格式</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">输出质量</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">输出子采样</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">每秒帧数(fps)</font></font></font></th></tr></thead><tbody data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">800 * 480</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">JPEG_像素_格式_YCbYCr</font></font></font></td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>3.60</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">800 * 480</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>2.76</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">640 * 480</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">JPEG_像素_格式_YCbYCr</font></font></font></td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>4.47</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">640 * 480</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>3.43</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">480 * 320</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">JPEG_像素_格式_YCbYCr</font></font></font></td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>8.64</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">480 * 320</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>6.69</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">320 * 240</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">JPEG_像素_格式_YCbYCr</font></font></font></td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>16.30</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">320 * 240</td><td>JPEG_PIXEL_FORMAT_RGB888</td><td>60</td><td>JPEG_SUBSAMPLE_420</td><td>13.05</td></tr></tbody></table>

#### 解码器

消耗的内存（10 kByte DRAM）是恒定的。

旋转 JPEG\_ROTATE\_0D 情况：

<table data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><thead data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">解决</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">源子采样</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">源质量</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">输出像素格式</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">每秒帧数(fps)</font></font></font></th></tr></thead><tbody data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">800 * 480</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>5.44</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">800 * 480</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>5.76</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">640 * 480</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>6.70</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">640 * 480</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>7.09</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">480 * 320</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>12.71</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">480 * 320</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>13.42</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">320 * 240</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>24.18</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">320 * 240</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>25.60</td></tr></tbody></table>

旋转 JPEG\_ROTATE\_90D 情况：

<table data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><thead data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">解决</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">源子采样</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">源质量</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">输出像素格式</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">每秒帧数(fps)</font></font></font></th></tr></thead><tbody data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">800 * 480</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>4.53</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">800 * 480</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>4.81</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">640 * 480</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>5.59</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">640 * 480</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>5.94</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">480 * 320</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>10.69</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">480 * 320</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>11.33</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">320 * 240</td><td>JPEG_SUBSAMPLE_422</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>22.40</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">320 * 240</td><td>JPEG_SUBSAMPLE_420</td><td>60</td><td>JPEG_PIXEL_FORMAT_RGB565_LE</td><td>21.77</td></tr></tbody></table>

用法
--

有关 API 使用的详细信息，请参阅`test_app`文件夹。

*   `test_app/main/test_encoder.c`用于编码器
*   对单张图片进行编码
*   使用块编码器 API 对单张图片进行编码
*   `test_app/main/test_decoder.c`用于解码器
*   解码单张 JPEG 图片
*   使用块解码 API 解码单个 JPEG 图片
*   解码相同大小的 JPEG 流

常问问题
----

1. ESP\_NEW\_JPEG 是否支持解码渐进式 JPEG？

不，ESP\_NEW\_JPEG 仅支持解码基线 JPEG。

您可以使用以下代码检查图像是否为渐进式 JPEG。输出 1 表示渐进式 JPEG，0 表示基线 JPEG。

python
>>> from PIL import Image
>>> Image.open("file_name.jpg").info.get('progressive', 0)
2. 为什么输出图像看起来未对齐？

此问题通常发生在最左侧或最右侧图像的几列出现在对侧时。如果您使用的是 ESP32-S3，则可能的原因是解码器的输出缓冲区或编码器的输入缓冲区未 16 字节对齐。请使用`jpeg_calloc_align`函数分配缓冲区。
3. 如何使用更简单的方法来检查编码器的输出是否正确？

您可以使用以下代码直接打印输出的 JPEG 数据。复制输出数据，将其粘贴到十六进制编辑器中，然后将其保存为 .jpg 文件。

for (int i = 0; i < out_len; i++) {
printf("%02x", outbuf[i]);
}
printf("\n");

支持芯片
----

下表列出了 Espressif SoC 对 ESP\_NEW\_JPEG 的支持情况。“✔”表示支持，“✖”表示不支持。

<table data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><thead data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1"><font class="notranslate immersive-translate-target-wrapper" data-immersive-translate-translation-element-mark="1" lang="zh-CN"><br><font class="notranslate immersive-translate-target-translation-theme-blockquote immersive-translate-target-translation-block-wrapper-theme-blockquote immersive-translate-target-translation-block-wrapper" data-immersive-translate-translation-element-mark="1"><font class="notranslate immersive-translate-target-inner immersive-translate-target-translation-theme-blockquote-inner" data-immersive-translate-translation-element-mark="1">芯片</font></font></font></th><th data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3" data-immersive-translate-paragraph="1">v0.6.0</th></tr></thead><tbody data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td>ESP32</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">✔</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td>ESP32-S2</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">✔</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td>ESP32-S3</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">✔</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td>ESP32-P4</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">✔</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td>ESP32-C2</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">✔</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td>ESP32-C3</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">✔</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td>ESP32-C5</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">✔</td></tr><tr data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3"><td>ESP32-C6</td><td data-immersive-translate-walked="1fadb7d1-4d3a-48b7-8680-02413b024ad3">✔</td></tr></tbody></table>

